<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="kr.or.ddit.ddtown.mapper.community.CommunityProfileMapper">
 
 	<!-- DM : 아티스트 회원 아이디 조회 -->
 	<select id="getMemUsernameByComuProfile" resultType="String">
 		SELECT
 			MEM_USERNAME
 		FROM
 			COMMUNITY_PROFILE
 		WHERE
 			COMU_PROFILE_NO = #{comuProfileNo}
 	</select>
 	
 	<select id="selectArtistGroupNoByComuProfileNo" parameterType="int" resultType="int">
 		SELECT
 			ART_GROUP_NO
 		FROM
 			COMMUNITY_PROFILE
 		WHERE
 			COMU_PROFILE_NO = #{comuProfileNo}
 	</select>
 	
 	<select id="selectComuprofileNoByMember" resultType="int">
 		SELECT
 			COMU_PROFILE_NO
 		FROM
 			COMMUNITY_PROFILE
 		WHERE
 			MEM_USERNAME = #{memUsername}
 		AND
 			ART_GROUP_NO = #{artGroupNo}
 		AND
 			(COMU_MEM_CAT_CODE = 'CMCC002' OR COMU_MEM_CAT_CODE = 'CMCC003')
 	</select>
 	
 	<select id="getComuNicknmByUsername" parameterType="String" resultType="String">
 		SELECT
 			COMU_NICKNM
 		FROM
 			COMMUNITY_PROFILE
 		WHERE
 			MEM_USERNAME = #{currentUser}
 	</select>
 	
 	<select id="selectProfileImgPathByUsername" parameterType="String" resultType="String">
 		SELECT
 			COMU_PROFILE_IMG
 		FROM
 			COMMUNITY_PROFILE
 		WHERE
 			MEM_USERNAME = #{msgUsername}
 			
 	</select>
 
 </mapper>