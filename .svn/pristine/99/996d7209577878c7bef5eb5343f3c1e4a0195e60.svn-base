package kr.or.ddit.ddtown.service.emp.schedule;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import kr.or.ddit.ServiceResult;
import kr.or.ddit.ddtown.mapper.emp.schedule.IScheduleMapper;
import kr.or.ddit.vo.schedule.ScheduleDetailVO;
import kr.or.ddit.vo.schedule.ScheduleVO;

@Service
public class ScheduleService implements IScheduleService {

	@Autowired
	private IScheduleMapper scheduleMapper;

	@Override
	public List<ScheduleVO> getList(String empUsername) {
		
		List<ScheduleVO> list = scheduleMapper.getList(empUsername);
		
		changeAllDay(list);
		
		return list;
	}

	private void changeAllDay(List<ScheduleVO> list) {
		for(int i=0; i<list.size(); i++) {
			ScheduleVO vo = list.get(i);
			String status = vo.getAllDayStatus();
			if(status.equals("Y")) {
				vo.setAllDay(true);
				continue;
			}
			
			vo.setAllDay(false);
		}
	}

	@Override
	public ScheduleDetailVO getDes(int id) {
		
		ScheduleDetailVO vo = scheduleMapper.getDes(id);
		
		System.out.println(vo);
		
		return vo;
	}

	@Override
	public ServiceResult dateUpdate(ScheduleVO scheduleVO) {
		// TODO Auto-generated method stub
		return null;
	}
	
}
